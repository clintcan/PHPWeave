# BunkerWeb WAF Configuration Sample
# Copy this to .env before using docker-compose.bunkerweb.yml
#
# USAGE:
# 1. Copy this file: cp .env.bunkerweb.sample .env
# 2. Edit values below with your actual configuration
# 3. Start: docker compose -f docker-compose.bunkerweb.yml up -d

# ============================================
# DOMAIN & SSL CONFIGURATION (REQUIRED)
# ============================================
# Your domain name - MUST be accessible from the internet for Let's Encrypt
DOMAIN=www.example.com

# Your email for Let's Encrypt SSL certificate notifications
EMAIL=admin@example.com

# BunkerWeb UI URL (used for login redirects)
BW_UI_URL=http://localhost:7000

# ============================================
# BUNKERWEB ADMIN CREDENTIALS (CHANGE THESE!)
# ============================================
# Username for BunkerWeb admin UI (http://your-server:7000)
BW_ADMIN_USER=admin

# Password for BunkerWeb admin UI - CHANGE THIS!
BW_ADMIN_PASSWORD=YourSecurePasswordHere123!

# ============================================
# PHPWEAVE APPLICATION SETTINGS
# ============================================
# Docker environment mode
DOCKER_ENV=production
PHPWEAVE_ENV=production

# ============================================
# DATABASE CONFIGURATION
# ============================================
# MySQL root password - CHANGE THIS!
MYSQL_ROOT_PASSWORD=YourSecureRootPassword123!

# PHPWeave database name
DB_NAME=phpweave

# PHPWeave database user
DB_USER=phpweave_user

# PHPWeave database password - CHANGE THIS!
DB_PASSWORD=YourSecureDBPassword123!

# Database host (internal Docker hostname)
DB_HOST=db

# Database charset
DB_CHARSET=utf8mb4

# Database port
DB_PORT=3306

# Database driver
DB_DRIVER=pdo_mysql

# ============================================
# PHPWEAVE FRAMEWORK SETTINGS
# ============================================
# Enable database connectivity (1 = enabled, 0 = disabled)
ENABLE_DATABASE=1

# Debug mode (0 = production, 1 = development)
DEBUG=0

# Cache driver (apcu, file, memory, redis, memcached)
CACHE_DRIVER=apcu

# Cache prefix (prevents collisions)
CACHE_PREFIX=phpweave_

# Default cache TTL in seconds (3600 = 1 hour)
CACHE_DEFAULT_TTL=3600

# Enable cache statistics (0 = disabled, 1 = enabled)
CACHE_STATS=1

# Session driver (file, database)
SESSION_DRIVER=file

# Session lifetime in seconds (1800 = 30 minutes)
SESSION_LIFETIME=1800

# ============================================
# SECURITY SETTINGS
# ============================================
# API secret key for internal authentication - CHANGE THIS!
API_SECRET=YourSecureAPISecret123!

# Allowed IPs for admin access (comma-separated)
ADMIN_ALLOWED_IPS=127.0.0.1,::1

# ============================================
# OPTIONAL: ADVANCED BUNKERWEB SETTINGS
# ============================================
# These override default BunkerWeb settings

# Rate limiting (requests per second)
# LIMIT_REQ_RATE=30r/s

# Max connections per IP
# LIMIT_CONN_MAX_HTTP1=10
# LIMIT_CONN_MAX_HTTP2=100

# ModSecurity paranoia level (1-4, higher = stricter)
# MODSECURITY_SEC_RULE_ENGINE=On
# MODSECURITY_SEC_AUDIT_ENGINE=RelevantOnly

# Enable/disable specific protections
# USE_BAD_BEHAVIOR=yes
# USE_DNSBL=yes
# USE_ANTIBOT=cookie

# Custom ban duration (in seconds)
# BAN_TIME=3600

# ============================================
# NOTES
# ============================================
# 1. DOMAIN must be accessible from internet for Let's Encrypt
# 2. For local testing, set AUTO_LETS_ENCRYPT=no in docker-compose.bunkerweb.yml
# 3. Change ALL passwords before production deployment
# 4. BunkerWeb admin UI: http://your-server:7000
# 5. PHPWeave accessed through: http://your-domain (port 80/443)
# 6. phpMyAdmin: http://your-server:8081
